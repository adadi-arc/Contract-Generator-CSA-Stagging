<!-- <div class="top-ribbon row">

</div> -->

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<form #servicecontract="ngForm" class="shadow-lg p-3 mt-132 rounded needs-validation">
        <app-my-heading heading="Service Contract Generator"></app-my-heading>

        <div class="row ">
                <div class="col-md-5">
                        <mat-accordion class="example-headers-align">
                                <mat-expansion-panel [expanded]="step === 0" hideToggle>
                                        <mat-expansion-panel-header style="background-color: #4c7ab5; height: 43px;">
                                                <mat-panel-title style="color: white;">
                                                        Owner Information

                                                </mat-panel-title>
                                                <mat-panel-description style="display: contents;">

                                                        <mat-icon style="color: white;">account_circle</mat-icon>
                                                </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="row" style="margin-top: 18px;">

                                                <div class="col-md-12 selectMenu">
                                                        <button type="button" mat-menu-item (click)="resetStates(servicecontract);" [matMenuTriggerFor]="markets"
                                                                *ngFor="let r of Region; let i=index">{{r.Region}} <mat-icon>arrow_right</mat-icon>
                                                                <mat-menu #markets="matMenu">
                                                                        <button type="button" mat-menu-item
                                                                                [matMenuTriggerFor]="property"
                                                                                *ngFor="let m of Market"
                                                                                [hidden]="r.Region != m.Region">{{m.Market}}
                                                                                <mat-menu #property="matMenu" style="height: 50%; overflow: scroll;">
                                                                                        <button type="button"
                                                                                                mat-menu-item
                                                                                                *ngFor="let p of Property"
                                                                                                [hidden]="m.Market != p.Market"
                                                                                                (click)="OwnerSelect(p)">{{p.Property}}</button>
                                                                                </mat-menu>
                                                                        </button>
                                                                </mat-menu>
                                                        </button>


                                                </div>
                                                <div class="col-md-12" style="margin-top: 15px;">

                                                        <table class="table" *ngIf="selectedOwner != undefined">
                                                                <tbody>
                                                                        <tr>
                                                                                <td>Region</td>
                                                                                <td style="color:#4c7ab5">
                                                                                        {{selectedOwner?.Region}}</td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>Market</td>
                                                                                <td style="color:#4c7ab5">
                                                                                        {{selectedOwner?.Market}}</td>
                                                                        </tr>
                                                                        <tr>
                                                                                <td>Entity</td>
                                                                                <td style="color:#4c7ab5">
                                                                                        {{selectedOwner?.Owner}}</td>
                                                                        </tr>

                                                                </tbody>
                                                        </table>

                                                        <mat-form-field *ngIf="selectedOwner != undefined"
                                                                style="width:100%" class="example-full-width">
                                                                <mat-label>Property Address</mat-label>
                                                                <textarea matInput
                                                                        placeholder="Ex. 100 Main St"
                                                                        name="PropertyAddress"
                                                                        [(ngModel)]="selectedPropertyAddress"
                                                                        required="true"></textarea>
                                                        </mat-form-field>
                                                        <mat-form-field *ngIf="selectedOwner != undefined"
                                                                style="width:100%" class="example-full-width">
                                                                <mat-label>Property Manager</mat-label>
                                                                <textarea matInput
                                                                        name="PropertyManager"
                                                                        [(ngModel)]="selectedPropertyManager"
                                                                        required="true"></textarea>
                                                        </mat-form-field>
                                                        <button mat-raised-button (click)="clearPM()" *ngIf="selectedOwner != undefined"
                                                        color="primary">Change Property Manager</button>
                                                </div>
                                        </div>


                                </mat-expansion-panel>


                        </mat-accordion>
                </div>
                <div class="col-md-7">
                        <mat-accordion class="example-headers-align" *ngIf="selectedOwner != undefined">
                                <mat-expansion-panel [expanded]="step === 0" hideToggle>
                                        <mat-expansion-panel-header style="background-color: #4c7ab5; height: 43px;">
                                                <mat-panel-title style="color: white;">
                                                        Contractor Notice Information
                                                </mat-panel-title>
                                                <mat-panel-description style="display: contents;">

                                                        <mat-icon style="color: white;">task</mat-icon>
                                                </mat-panel-description>
                                        </mat-expansion-panel-header>
                                        <div class="row" style="margin-top: 18px;">
                                                <div class="col-md-12">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        required name="Contractor"
                                                                        [(ngModel)]="selectedContractor">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-12">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor State of Formation:</mat-label>
                                                                <input matInput 
                                                                        placeholder="Ex. California consulting company"
                                                                        class="MatInputBoxShadow" type="text"
                                                                        required name="ContractorStateOfFormation"
                                                                        [(ngModel)]="selectedContractorStateOfFormation">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-12">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor Street Address:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        required name="ContractorAddress"
                                                                        [(ngModel)]="selectedContractorAddress">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor City:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        required name="ContractorCity"
                                                                        [(ngModel)]="selectedContractorCity">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                        <!-- <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor State:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        required name="ContractorState"
                                                                        [(ngModel)]="selectedContractorState">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>  -->
                                                        <mat-form-field class="example-full-width" style="width: 100%;" id="states">
                                                                <mat-label>Contractor State:</mat-label>
                                                                <mat-select class="MatInputBoxShadow"
                                                                        type="text" name="ContractorState" required
                                                                        [(ngModel)]="selectedContractorState"
                                                                        (ngModelChange)="onChange(selectedContractorState)">
                                                                        <mat-option>-- Clear --</mat-option>
                                                                        <mat-option *ngFor="let option of States"
                                                                                [value]="option">
                                                                                {{ option.Title }}
                                                                        </mat-option>
                                                                </mat-select>
                                                                <mat-error>This field is required</mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-4">

                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor Zip Code:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        required name="ContractorZip"
                                                                        [(ngModel)]="selectedContractorZip">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>

                                                </div>
                                                <div class="col-md-12">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor Attn:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        name="ContractorAttn"
                                                                        [(ngModel)]="selectedContractorAttn">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-12">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Contractor Email:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="text"
                                                                        name="ContractorEmail"
                                                                        [(ngModel)]="selectedContractorEmail">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                

                                        </div>


                                </mat-expansion-panel>


                        </mat-accordion>
                        <mat-accordion class="example-headers-align" *ngIf="selectedOwner != undefined">
                                <mat-expansion-panel [expanded]="step === 0" style="margin-top: 20px;" hideToggle>
                                        <mat-expansion-panel-header style="background-color: #4c7ab5; height: 43px;">
                                                <mat-panel-title style="color: white;">
                                                        Other Details
                                                </mat-panel-title>
                                                <mat-panel-description style="display: contents;">

                                                        <mat-icon style="color: white;">info</mat-icon>
                                                </mat-panel-description>
                                        </mat-expansion-panel-header>

                                        <div class="row" style="margin-top: 18px;">

                                                <div class="col-md-4">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Execution Date:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="date" 
                                                                        required name="ExecutionDate"
                                                                        [(ngModel)]="selectedExecutionDate">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-4">
                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Commencement Date:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="date"
                                                                        required name="CommencementDate"
                                                                        [(ngModel)]="selectedCommencementDate">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>
                                                </div>
                                                <div class="col-md-4">

                                                        <mat-form-field class="example-full-width" style="width: 100%;">
                                                                <mat-label>Expiration Date:</mat-label>
                                                                <input matInput class="MatInputBoxShadow" type="date"
                                                                        required name="ExpirationDate"
                                                                        [(ngModel)]="selectedExpirationDate">
                                                                <mat-error>This field is required
                                                                </mat-error>
                                                        </mat-form-field>

                                                </div>
                                                <div class="col-md-12">
                                                        <mat-checkbox class="example-margin" name="IncludeTM"
                                                                [(ngModel)]="selectedIncludeTM">Include T&M Services?
                                                        </mat-checkbox>
                                                </div>



                                        </div>

                                </mat-expansion-panel>


                        </mat-accordion>

                </div>
        </div>

        <div class="row " style="display: flex;">
                <div class="col-md-8" *ngIf="selectedOwner != undefined" style="margin-top: 18px; text-align: right;">
                        
                </div>
                <div class="col-md-4" *ngIf="selectedOwner != undefined" style="margin-top: 18px;text-align: right;">
                        <button class="btnEnd" mat-raised-button (click)="resetStates(servicecontract);" type="button"
                                color="white">Reset</button>
                        <button class="btnEnd" mat-raised-button (click)="onSave()" [disabled]="servicecontract.invalid || invalidateFields()" type="button"
                                color="primary">Generate Contract</button>
                </div>
                

        </div>




        <!-- <div class="row g-2">
                <div class="col-md-3"></div>
                <div class="col-md-12">
                        <table class="table table-striped table-bordered">
                                <tbody>
                                        <tr>
                                                <td
                                                        style="width: 30%; font-family: Roboto,'Helvetica Neue',sans-serif; size: 12px;">
                                                        <p>Owner:&emsp;</p>
                                                </td>
                                                <td>


                                                </td>
                                        </tr>
                                        <tr>
                                                <td>
                                                        <p>Entity:&emsp;</p>
                                                </td>
                                                <td>
                                                        <p style="color:#4c7ab5;font-size: 14px;;font-weight:bold;">
                                                                {{selectedOwner?.Owner}}</p>
                                                </td>
                                        </tr>
                                        <tr>
                                                <td>
                                                        <p>Property Address:&emsp;</p>
                                                </td>
                                                <td>

                                                </td>
                                        </tr>

                                        <tr>
                                                <td>
                                                        <p>Contractor Information:&emsp;</p>
                                                </td>
                                                <td>
                                                        <app-my-input label="Contractor" class="col-md-6"
                                                                name="Contractor" [(ngModel)]="selectedContractor"
                                                                required="true">
                                                        </app-my-input>
                                                        <app-my-input label="Contractor Address" class="col-md-6"
                                                                name="ContractorAddress"
                                                                [(ngModel)]="selectedContractorAddress" required="true">
                                                        </app-my-input>
                                                        <app-my-input label="Contractor City" class="ContAdd col-md-4"
                                                                style="padding-right: 5px;" name="ContractorCity"
                                                                [(ngModel)]="selectedContractorCity" required="true">
                                                        </app-my-input>
                                                        <app-my-select label="Contractor State" [data]="States"
                                                                title="Title" class="ContAdd col-md-4"
                                                                name="ContractorState"
                                                                [(ngModel)]="selectedContractorState" required="true">
                                                        </app-my-select>
                                                        <app-my-input label="Contractor Zip Code"
                                                                class="ContAdd col-md-4" style="padding-left: 5px;"
                                                                name="ContractorZip" [(ngModel)]="selectedContractorZip"
                                                                required="true">
                                                        </app-my-input>
                                                        <app-my-input label="Contractor Attn" class="col-md-6"
                                                                name="ContractorAttn"
                                                                [(ngModel)]="selectedContractorAttn" required="true">
                                                        </app-my-input>
                                                        <app-my-input label="Contractor Email" class="col-md-6"
                                                                name="ContractorEmail"
                                                                [(ngModel)]="selectedContractorEmail" required="true">
                                                        </app-my-input>
                                                        <app-my-input label="Contractor State of Formation"
                                                                class="col-md-6" name="ContractorStateOfFormation"
                                                                [(ngModel)]="selectedContractorStateOfFormation"
                                                                required="true">
                                                        </app-my-input>
                                                </td>
                                        </tr>
                                        <tr>
                                                <td>
                                                        <p>Execution Date:&emsp;</p>
                                                </td>
                                                <td>
                                                        <app-my-input-date label="Execution Date" class="col-md-6"
                                                                name="ExecutionDate" [(ngModel)]="selectedExecutionDate"
                                                                required="true">
                                                        </app-my-input-date>
                                                </td>
                                        </tr>
                                        <tr>
                                                <td>
                                                        <p>Commencement Date:&emsp;</p>
                                                </td>
                                                <td>
                                                        <app-my-input-date label="Commencement Date" class="col-md-6"
                                                                name="CommencementDate"
                                                                [(ngModel)]="selectedCommencementDate" required="true">
                                                        </app-my-input-date>
                                                </td>
                                        </tr>
                                        <tr>
                                                <td>
                                                        <p>Expiration Date:&emsp;</p>
                                                </td>
                                                <td>
                                                        <app-my-input-date label="Expiration Date" class="col-md-6"
                                                                name="ExpirationDate"
                                                                [(ngModel)]="selectedExpirationDate" required="true">
                                                        </app-my-input-date>
                                                </td>
                                        </tr>

                                        <tr>
                                                <td>
                                                        <p>Include T&M Services?&emsp;</p>
                                                </td>
                                                <td>

                                                        <mat-checkbox class="example-margin" name="IncludeTM"
                                                                [(ngModel)]="selectedIncludeTM">Include</mat-checkbox>
                                                </td>
                                        </tr>
                                </tbody>
                        </table>




                </div>
        </div> -->
</form>
